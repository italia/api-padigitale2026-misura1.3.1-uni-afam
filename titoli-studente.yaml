openapi: 3.0.0
x-stoplight:
  id: 0f56e32f16f60
info:
  title: API riferimento ANIS
  x-summary: Questo servizio ritorna l'elenco dei titoli conseguiti da uno studente.
  version: 1.0.0
  description: |-
    ### Documentazione

    ## API riferimento ANIS
    La seguente documentazione API fornisce un riferimento per l'integrazione e 
    l'accesso ai dati ANIS (Anagrafe Nazionale dell'Istruzione Superiore) relativi alle università. 
    Queste API consentono l'erogazione di servizi (e-service) che operano sui dati ANIS.
    ## (DENIS: SAREBBE DA RISCRIVERE FACENDO MENO RIFERIMENTO AD ANIS O PRESA COME ESEMPIO)


    ## (DENIS: DI SEGUITO METTEREI IN EVIDENZA PRIMA L'API DI BUSINESS)
    # API Health Check
    Questa API fornisce un modo semplice per verificare lo stato di salute del sistema. 
    È un endpoint di base che può essere utilizzato per controllare se il servizio è in esecuzione correttamente.

    **Endpoint:**   GET  /status

    # Elenco dei titoli conseguiti da uno studente
    Questa API restituisce un elenco dei titoli conseguiti da uno studente specifico in relazione al suo Codice Fiscale (CF) 
    o identificativo ANPR.

    **Endpoint:**   GET  /studenti/{taxCode}/titoli

    **Params:**    `{taxCode}`: Il Codice Fiscale (CF) dello studente.

    **Esempio di risposta:**

    ```json
    {
      "taxCode": "RSSMRA80A01F205D",
      "personID": "AB123456C",
      "givenName": "Mario",
      "familyName": "Rossi",
      "birthDate": "1990-05-17",
      "birthPlace": "Roma",
      "academicQualifications": [
        {
          "instituteCode": "IFSRM1",
          "instituteName": "Università degli Studi di Roma 'La Sapienza'",
          "titleName": "Laurea",
          "courseType": "Laurea magistrale",
          "courseCode": "123" 
          "courseName": "Ingegneria",
          "classCode": "LM-7",
          "className": "Ingegneria informatica",
          "academicQualificationDate": "2022-07-01",
          "academicQualificationVote": "110",
          "courseMaximumGrade": "110L"
        },
        {
          "instituteCode": "IFSRM1",
          "instituteName": "Università degli Studi di Roma 'La Sapienza'",
          "titleName": "Dottorato di ricerca",
          "courseType": "Dottorato di ricerca",
          "courseCode": "E04" 
          "courseName": "Informatica",
          "classCode": "DR-003",
          "className": "Intelligenza artificiale",
          "academicQualificationDate": "2022-07-01",
          "academicQualificationVote": "110",
          "courseMaximumGrade": "110L"
        }
      ]
    }
  contact:
    name: helpdesk
    email: helpdesk@gmail.com
  x-api-id: 00000000-0000-0000-0000-000000000000
  termsOfService: 'http://swagger.io/terms/'
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
paths:
  /status:
    get:
      summary: Health Check
      operationId: check-status
      description: Verificare lo stato di salute del sistema
      tags:
        - HEALTH-CHECK
      responses:
        '204':
          description: il servizio è in esecuzione correttamente.
        '500':
          description: il servizio non è in esecuzione.
  '/studenti/{taxCode}/titoli':
    parameters:
      - schema:
          type: string
        name: taxCode
        in: path
        required: true
        description: Codice Fiscale o Identificativo ANPR
    get:
      summary: Titoli conseguiti da uno studente
      tags:
        - TITOLI-STUDENTE
      parameters:
        - schema:
            type: string
          in: header
          name: Method
          description: Specifica il metodo HTTP utilizzato per la richiesta.
        - schema:
            type: string
          in: header
          name: Path
          description: Specifica il percorso o l'endpoint dell'API a cui viene indirizzata la richiesta.
        - schema:
            type: string
          in: header
          name: Scheme
          description: 'Specifica lo schema o il protocollo utilizzato per la comunicazione tra il client e il server, come HTTP o HTTPS.'
        - schema:
            type: string
          in: header
          name: Accept-Encoding
          description: 'Utilizzato per indicare al server le opzioni di compressione supportate dal client, come gzip o deflate.'
        - schema:
            type: string
          in: header
          name: Accept-Language
          description: 'Utilizzato per indicare al server la lingua preferita per la risposta, in modo che possa restituire la risposta nella lingua corretta, se disponibile.'
        - schema:
            type: string
          in: header
          name: Origin
          description: 'Utilizzato in contesti di sicurezza per indicare l''origine della richiesta, ad esempio durante le richieste CORS (Cross-Origin Resource Sharing).'
        - schema:
            type: string
          in: header
          name: User-Agent
          description: 'Utilizzato per identificare il client che sta effettuando la richiesta, ad esempio il browser e la versione utilizzata.'
      responses:
        '200':
          description: Richiesta eseguita con successo
          headers:
            Content-Length:
              schema:
                type: integer
                format: int64
              description: 'utilizzato per indicare la dimensione del corpo della risposta, consentendo al client di gestire correttamente la ricezione dei dati.'
            Cache-Control:
              schema:
                type: string
              description: 'utilizzato per indicare al client o ai server intermedi come gestire la memorizzazione nella cache della risposta, ad esempio "no-cache" per impedire la memorizzazione nella cache.'
            Access-Control-Allow-Origin:
              schema:
                type: string
              description: utilizzato per consentire a determinati origini di accedere alle risorse tramite richieste cross-origin.
            X-RateLimit-Limit:
              schema:
                type: integer
                format: int64
              description: specifica il numero massimo di richieste consentite entro un determinato periodo di tempo (solitamente misurato in secondi).
            X-RateLimit-Remaining:
              schema:
                type: integer
                format: int64
              description: utilizzato per indicare il numero di richieste API rimanenti all'interno del periodo di tempo specificato dal server.
            X-RateLimit-Reset:
              schema:
                type: string
                format: date-time
              description: utilizzato per indicare il momento in cui il limite delle richieste API verrà ripristinato.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StudentAcademicQualifications'
              # DENIS: QUESTI ESEMPI SAREBBERO DA CORREGGERE SECONDO LE NUOVE PROPOSTE
              examples:
                Example 1:
                  value:
                    taxCode: RSSMRA80A01F205D
                    personID: AB123456C
                    givenName: Mario
                    familyName: Rossi
                    birthDate: '1990-05-17'
                    birthPlace: Roma
                    achievedTitles:
                      - instituteCode: IFSRM1
                        instituteName: Università degli Studi di Roma 'La Sapienza'
                        titleName: Laurea
                        courseType: Laurea magistrale
                        courseName: Ingegneria
                        classCode: LM-7
                        className: Ingegneria informatica
                        achievedVote: 110/110
                        achievementDate: '2022-07-01'
                        maxVote: 110L
                      - instituteCode: IFSRM1
                        instituteName: Università degli Studi di Roma 'La Sapienza'
                        titleName: Dottorato di ricerca
                        courseType: Dottorato di ricerca
                        courseName: Informatica
                        classCode: DR-003
                        className: Intelligenza artificiale
                        achievedVote: '-'
                        achievementDate: '2023-01-15'
                        maxVote: '-'
                Example 2:
                  value:
                    taxCode: RSSMRA80A01F205D
                    personID: AB123456C
                    givenName: Mario
                    familyName: Rossi
                    birthDate: '1990-05-17'
                    birthPlace: Roma
                    achievedTitles: []
        '404':
          description: Studente non trovato
          headers:
            Content-Length:
              schema:
                type: integer
                format: int64
              description: 'utilizzato per indicare la dimensione del corpo della risposta, consentendo al client di gestire correttamente la ricezione dei dati.'
            Cache-Control:
              schema:
                type: string
              description: 'utilizzato per indicare al client o ai server intermedi come gestire la memorizzazione nella cache della risposta, ad esempio "no-cache" per impedire la memorizzazione nella cache.'
            Access-Control-Allow-Origin:
              schema:
                type: string
              description: utilizzato per consentire a determinati origini di accedere alle risorse tramite richieste cross-origin.
            X-RateLimit-Limit:
              schema:
                type: integer
                format: int64
              description: specifica il numero massimo di richieste consentite entro un determinato periodo di tempo (solitamente misurato in secondi).
            X-RateLimit-Remaining:
              schema:
                type: integer
                format: int64
              description: utilizzato per indicare il numero di richieste API rimanenti all'interno del periodo di tempo specificato dal server.
            X-RateLimit-Reset:
              schema:
                type: string
                format: date-time
              description: utilizzato per indicare il momento in cui il limite delle richieste API verrà ripristinato.
        '500':
          description: Errore interno del server
          headers:
            Content-Length:
              schema:
                type: integer
                format: int64
              description: 'utilizzato per indicare la dimensione del corpo della risposta, consentendo al client di gestire correttamente la ricezione dei dati.'
            Cache-Control:
              schema:
                type: string
              description: 'utilizzato per indicare al client o ai server intermedi come gestire la memorizzazione nella cache della risposta, ad esempio "no-cache" per impedire la memorizzazione nella cache.'
            Access-Control-Allow-Origin:
              schema:
                type: string
              description: utilizzato per consentire a determinati origini di accedere alle risorse tramite richieste cross-origin.
            X-RateLimit-Limit:
              schema:
                type: integer
                format: int64
              description: specifica il numero massimo di richieste consentite entro un determinato periodo di tempo (solitamente misurato in secondi).
            X-RateLimit-Remaining:
              schema:
                type: integer
                format: int64
              description: utilizzato per indicare il numero di richieste API rimanenti all'interno del periodo di tempo specificato dal server.
            X-RateLimit-Reset:
              schema:
                type: string
                format: date-time
              description: utilizzato per indicare il momento in cui il limite delle richieste API verrà ripristinato.
      operationId: titoli-studente
      description: Restituisce la lista dei titoli conseguiti da uno studente in base al suo codice_fiscale/identificativo ANPR
components:
  schemas:
    StudentAcademicQualifications:
      type: object
      x-examples:
        Example 1:
          taxCode: RSSMRA80A01F205D
          personID: AB123456C
          givenName: Mario
          familyName: Rossi
          birthDate: '1990-05-17'
          birthPlace: Roma
          academicQualifications:
            - instituteCode: IFSRM1
              instituteName: Università degli Studi di Roma 'La Sapienza'
              titleName: Laurea
              courseType: Laurea magistrale
              courseCode: 123,
              courseName: Ingegneria
              classCode: LM-7
              className: Ingegneria informatica
              academicQualificationDate": 2022-07-01
              academicQualificationVote": 110
              courseMaximumGrade": 110L
            - instituteCode: IFSRM1
              instituteName: Università degli Studi di Roma 'La Sapienza'
              titleName: Dottorato di ricerca
              courseType: Dottorato di ricerca
              courseCode: E333,
              courseName: Informatica
              classCode: DR-003
              className: Intelligenza artificiale
              academicQualificationDate": 2022-07-01
              academicQualificationVote": '-'
              courseMaximumGrade": '-'
      description: Dati e Titoli conseguiti studente
      properties:
        taxCode:
          type: string
          description: 'Codice Fiscale Studente '
          example: RSSMRA80A01F205D
          pattern: '^[A-Z]{6}\d{2}[A-Z]\d{2}[A-Z]\d{3}[A-Z]$'
          minLength: 16
          maxLength: 16
          readOnly: true
        personID:
          type: string
          description: Identificativo ANPR
          maxLength: 9
          minLength: 9
          pattern: '^[A-Z0-9]{8}[A-Z]$'
          example: AB123456C
          readOnly: true
        givenName:
          type: string
          description: 'Nome Studente '
          example: Mario
          pattern: '^[A-ZÀ-ÖØ-Ýa-zà-öø-ý\s''-]+$'
          readOnly: true
        familyName:
          type: string
          description: Cognome Studente
          example: Rossi
          pattern: '^[A-ZÀ-ÖØ-Ýa-zà-öø-ý\s''-]+$'
          readOnly: true
        birthDate:
          type: string
          format: date
          example: '1990-05-17'
          pattern: '^\d{4}-\d{2}-\d{2}$'
          description: Data di nascita dello studente
          readOnly: true
        birthPlace:
          type: string
          example: Rome
          description: Luogo di nascita dello studente
          readOnly: true
        achievedTitles:
          type: array
          description: Elenco dei titoli conseguiti dallo studente
          items:
            type: object
            properties:
              instituteCode:
                type: string
                description: Codice identificativo dell’istituto
                readOnly: true
              instituteName:
                type: string
                description: Nome dell'istituto
                readOnly: true
              titleName:
                type: string
                description: Denominazione del titolo di studio
                readOnly: true
              courseType:
                type: string
                description: Tipo di corso di studio
                example: 'laurea, laurea magistrale, dottorato di ricerca, specializzazione, master, formazione professionale'
                readOnly: true
              courseCode:
                type: string
                description: 'Codice corso'
                readOnly: true
              courseName:
                type: string
                description: Denominazione del corso di studio
                example: 'ingegneria, economia, giurisprudenza, medicina, scienze umanistiche, scienze sociali, informatica, arte e design'
                readOnly: true
              courseValidityYear:
                type: string
                description: Anno di validità del corso
                readOnly: true
              classCode:
                type: string
                description: Codice della classe di studio
                pattern: '^[A-Za-z0-9-]+$'
                example: L-8
                readOnly: true
              className:
                type: string
                description: Denominazione della classe di studio
                example: 'Informatica, Meccanica, Elettronica, Civile'
                readOnly: true
              academicQualificationDate:
                type: string
                description: Data di conseguimento del titolo di studio
                pattern: '^[0-9]{4}-[0-9]{2}-[0-9]{2}$'
                example: '2023-05-15'
                format: date
                readOnly: true
              academicQualificationVote:
                type: string
                description: Voto ottenuto al conseguimento del titolo di studio nel formato "votoOttenuto/votoMax"
                pattern: ^((\d+)/(\d+))L?|-$
                example: 100/110
                readOnly: true
              courseMaximumGrade:
                type: string
                example: '110'
                pattern: '^\d{1,3}L?|-$'
                readOnly: true
  requestBodies: {}
  responses: {}
servers:
  - url: 'https://localhost:8080/api'
    description: localhost
tags:
  - name: HEALTH-CHECK
  - name: TITOLI-STUDENTE
